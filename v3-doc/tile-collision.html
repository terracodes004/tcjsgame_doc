<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TCJSgame Tile Collisions</title>
  <link rel="stylesheet" href="stylee.css">
</head>
<body>
  <div class="sidebar">
    <h2>TCJSgame Docs</h2>
    <a href="overview.html">Overview</a>
    <a href="getting-started.html">Getting Started</a>
    <a href="display.html">Display</a>
    <a href="component.html">Component</a>
    <a href="movement.html">Movement</a>
    <a href="move-utils.html">Move Utils</a>
    <a href="state-utils.html">State Utils</a>
    <a href="collision.html">Collision</a>
    <a href="mouse.html">Mouse</a>
    <a href="keyboard.html">Keyboard</a>
    <a href="camera.html">Camera</a>
    <a href="background.html">Background</a>
    <a href="sprites.html">Sprites</a>
    <a href="tilemap.html">TileMap</a>
    <a href="tile-collisions.html" class="active">Tile Collisions</a>
    <a href="sound.html">Sound</a>
    <a href="scenes.html">Scenes</a>
    <a href="fullscreen.html">Fullscreen</a>
    <a href="physics.html">Physics</a>
    <a href="gravity.html">Gravity</a>
    <a href="bouncing.html">Bouncing</a>
    <a href="utilities.html">Utilities</a>
    <a href="advanced.html">Advanced</a>
    <a href="references.html">References</a>
  </div>

  <div class="content">
    <h1>Tile Collisions in TCJSgame</h1>
    <p>
      In many games, characters and objects must interact with the environment
      by colliding with walls, platforms, or hazards. TCJSgame v3 makes this
      easy with the <code>TileMap.crashWith()</code> method. This checks
      whether a given <code>Component</code> collides with any tile in the map,
      or with tiles of a specific ID.
    </p>
    <p>
      You can use <code>crashWith(obj)</code> to detect collision against all
      tiles, or <code>crashWith(obj, id)</code> to limit detection to tiles of
      a specific type. Combined with the <code>Component.crashWith()</code>
      method, this creates a powerful system for detecting and responding to
      collisions in grid-based levels.
    </p>

    <h2>Example</h2>
    <pre><code>
// Player component
let player = new Component(32, 32, "blue", 50, 50, "rect");
display.add(player);

// Basic map
let map = [
  [1,1,1,1,1],
  [1,0,0,0,1],
  [1,0,2,0,1],
  [1,1,1,1,1]
];
let ground = new Component(0, 0, "green", 0, 0, "rect");
let wall = new Component(0, 0, "brown", 0, 0, "rect");
let tilemap = new TileMap(display, map, [ground, wall], 480, 320);

function update() {
  tilemap.show();

  player.move();

  // Check collision with any tile
  if (tilemap.crashWith(player)) {
    console.log("Player hit a tile!");
  }

  // Check collision only with wall tiles (ID 2)
  if (tilemap.crashWith(player, 2)) {
    console.log("Player hit a wall!");
  }
}
    </code></pre>

    <h2>Accessing Specific Tiles</h2>
    <p>
      Sometimes you need to retrieve a tile directly. Use
      <code>rTile(tx, ty)</code> to get the tile object at grid position
      <code>(tx, ty)</code>. You can then read its properties or interact with
      it directly.
    </p>

    <pre><code>
// Get the tile at (2,2)
let targetTile = tilemap.rTile(2, 2);
if (targetTile) {
  console.log("Tile ID:", targetTile.tid);
}
    </code></pre>

    <div class="note">
      <strong>Note:</strong> The <code>crashWith()</code> method uses bounding
      box collision detection, based on the <code>Component.crashWith()</code>
      logic. If your tiles are rotated or scaled, collisions may not behave as
      expected. For grid-aligned games like platformers, however, this system
      is efficient and reliable.
    </div>
  </div>
</body>
</html>
